---
name: R-CMD-check

on:
   - push
   - pull_request

jobs:
   R-CMD-check:
      runs-on: ubuntu-latest

      container:
         image: blcdsdockerregistry/bl-r-devel:latest

      steps:
         - uses: actions/checkout@v2
           with:
              path: DigITx
         - run: Rscript -e "install.packages(c('here', 'plyr', 'performance', 'BoutrosLab.plotting.general', 'lsr'))"
         - run: R CMD build --compact-vignettes="gs+qpdf" DigITx
         - run: R CMD check --as-cran --run-donttest DigITx_*.tar.gz
